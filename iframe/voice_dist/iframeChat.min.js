!function(){"use strict";function n(n,e,i){return e&&function(n,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,t(o.key),o)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function t(n){var t=function(n,t){if("object"!=typeof n||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n,"string");return"symbol"==typeof t?t:t+""}var e=function(){return n((function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.config={agentId:t.agentId||"null",domain:t.domain||"http://localhost:5173",position:t.position||"right"},this.init(),this.setupMessageListener()}),[{key:"init",value:function(){var n="\n      .chat-widget-container {\n        position: fixed;\n        ".concat(this.config.position,": 20px;\n        bottom: 20px;\n        width: 250px;\n        height: 100px;\n        background: white;\n        border-radius: 16px;\n        display: block;\n        z-index: 9999;\n        border: 1px solid #ccc;\n      }\n\n      .chat-widget-iframe {\n        width: 100%;\n        height: 100%;\n        border: none;\n        border-radius: 16px;\n      }\n\n      @media (max-width: 640px) {\n        .chat-widget-container {\n          width: 80%;\n          max-width: 300px;\n          height: 100px;\n          ").concat(this.config.position,": 10px;\n          bottom: 10px;\n          border-radius: 16px;\n        }\n        \n        .chat-widget-iframe {\n          border-radius: 16px;\n        }\n      }\n    "),t=document.createElement("style");t.textContent=n,document.head.appendChild(t),this.container=document.createElement("div"),this.container.className="chat-widget-container",this.container.innerHTML='\n      <iframe \n        class="chat-widget-iframe"\n        src="'.concat(this.config.domain,"?agentId=").concat(this.config.agentId,'"\n        allow="microphone; camera"\n        sandbox="allow-same-origin allow-scripts allow-forms allow-popups"\n        crossorigin="anonymous"\n      ></iframe>\n    '),document.body.appendChild(this.container)}},{key:"setupMessageListener",value:function(){var n=this;window.addEventListener("message",(function(t){var e=window.location.origin;console.log("Received message:",t.data),console.log("Message origin:",t.origin),console.log("Expected domain:",e),"SHOW_FORM_FIELDS"===t.data.type?(console.log("Showing form fields - adjusting height to 400px"),n.container.style.height="400px",n.container.style.width="350px"):"HIDE_FORM_FIELDS"===t.data.type?(console.log("Hiding form fields - adjusting height to 100px"),n.container.style.height="100px",n.container.style.width="250px"):console.log("Message type not recognized:",t.data.type)}))}}])}();window.ChatWidget=e}();
//# sourceMappingURL=iframeChat.min.js.map
